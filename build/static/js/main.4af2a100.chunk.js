(this["webpackJsonpgoogle-docs-react"]=this["webpackJsonpgoogle-docs-react"]||[]).push([[0],{342:function(e,t,c){},343:function(e,t,c){},615:function(e,t,c){"use strict";c.r(t);var n=c(5),o=c(98),r=c.n(o),a=(c(342),c(343),c(344),c(73)),s=c(25),i=c(13),l=c(331),d=c(46),u=c(55),j=Object(l.a)({apiKey:"AIzaSyBFQxPk6Cfbiu18vGhEJciDb0SbZgFfgZI",authDomain:"g-doc-48560.firebaseapp.com",projectId:"g-doc-48560",storageBucket:"g-doc-48560.appspot.com",messagingSenderId:"232174661549",appId:"1:232174661549:web:dc788f1dbb6efb39fe3b24"}),b=Object(d.f)(j),m=Object(u.b)(j),x=c(8),p=Object(n.createContext)(),O=function(e){var t=e.children,c=Object(n.useState)(null),o=Object(i.a)(c,2),r=o[0],a=o[1];return Object(n.useEffect)((function(){Object(u.c)(m,(function(e){a(e)}))}),[]),Object(x.jsx)(p.Provider,{value:{user:r,setUser:a},children:t})},h=c(29),f=c.n(h),v=c(128),g=c(41),y=function(){var e=Object(n.useContext)(p).setUser,t=Object(s.f)();Object(v.b)(m,(function(e){e&&t.push("/")}));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"flex flex-col items-center justify-center h-100 min-h-screen",children:[Object(x.jsx)("img",{src:"https://links.papareact.com/1ui",height:"300",width:"550",alt:"logo"}),Object(x.jsx)(f.a,{className:"w-44 mt-10 ",color:"blue",buttonType:"filled",ripple:"light",onClick:function(){var t=new v.a;Object(v.c)(m,t).then((function(t){var c=t.user,n=Object(g.d)(b,"users","".concat(null===c||void 0===c?void 0:c.uid));Object(g.g)(n,{lastLogin:Object(g.f)(),name:null===c||void 0===c?void 0:c.displayName,email:null===c||void 0===c?void 0:c.email,number:null===c||void 0===c?void 0:c.phoneNumber},{merge:!0},(function(e){return console.log(e)})),console.log(c),e(c)})).catch((function(e){return console.log(e)}))},children:"Login"})]})})},w=c(100),N=c(0),k=c(1),C=c(32),S=c.n(C),D=function(){var e=Object(n.useContext)(p),t=e.user,c=e.setUser;return Object(x.jsxs)("header",{className:"sticky gap-2 top-0 z-50 bg-white shadow-md w-100 flex items-center py-2 px-3",children:[Object(x.jsx)(f.a,{color:"gray",buttonType:"outline",rounded:!0,iconOnly:!0,ripple:"dark",className:"h-10 w-10 hidden md:block border-0",children:Object(x.jsx)(S.a,{name:"menu",size:"3xl"})}),Object(x.jsx)(S.a,{name:"description",color:"blue",size:"5xl"}),Object(x.jsx)("h1",{className:"hidden md:inline-flex ml-2 text-gray-700 text-2xl",children:"Docs"}),Object(x.jsxs)("div",{className:"md:mx-20 w-full flex-shrink flex md:flex-grow items-center px-5 py-3 bg-gray-100 rounded focus-within:text-gray-600 focus-within:shadow-md\r ",children:[Object(x.jsx)(S.a,{name:"search",size:"3xl",color:"darkgray"}),Object(x.jsx)("input",{type:"text",placeholder:"Search...",className:" text-gray-600 bg-transparent outline-none md:px-5 px-2 border-0 md:flex-grow text-base"})]}),Object(x.jsx)(f.a,{color:"gray",buttonType:"outline",rounded:!0,ripple:"dark",className:"ml-0 h-10 hidden md:block w-10 border-0",children:Object(x.jsx)(S.a,{name:"apps",size:"3xl",color:"gray"})}),Object(x.jsx)("img",{src:null===t||void 0===t?void 0:t.photoURL,alt:null===t||void 0===t?void 0:t.displayName,title:null===t||void 0===t?void 0:t.displayName,className:"cursor-pointer h-8 w-8 rounded-full ",onClick:function(){Object(u.e)(m),c(null)}})]})},z=c(129),E=function(e){var t,c,o=e.id,r=e.fileName,s=e.date,l=Object(n.useState)(!1),d=Object(i.a)(l,2),u=d[0],j=d[1],m=Object(n.useContext)(p).user,O=function(){var e=Object(k.a)(Object(N.a)().mark((function e(t){var c;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c=Object(g.d)(b,"userDocs","".concat(null===m||void 0===m?void 0:m.uid),"docs",t),console.log(c),c&&(Object(g.c)(c),j(!1))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"flex max-w-3xl mx-auto items-center p-4 rounded-lg hover:bg-gray-300 cursor-pointer text-gray-700 text-sm",children:[Object(x.jsx)(S.a,{name:"article",size:"3xl",color:"blue"}),Object(x.jsxs)(a.b,{to:"/doc/".concat(o),className:"flex items-center w-full",children:[Object(x.jsx)("p",{className:"flex-grow pl-5 pr-10",children:r}),Object(x.jsx)("p",{className:"pr-5 text-sm truncate",children:"".concat(null===s||void 0===s||null===(t=s.toDate())||void 0===t?void 0:t.toDateString("en-US")," at ").concat(null===s||void 0===s||null===(c=s.toDate())||void 0===c?void 0:c.toLocaleTimeString("en-US"))})]}),Object(x.jsx)(f.a,{color:"gray",buttonType:"outline",ripple:"dark",iconOnly:!0,rounded:!0,className:"border-0 block",onClick:function(){return j(!0)},children:Object(x.jsx)(S.a,{name:"delete",size:"3xl"})})]}),Object(x.jsxs)(z.a,{size:"sm",active:u,toggler:function(){return j(!u)},children:[Object(x.jsx)(z.b,{children:"Do you really want to delete this document?"}),Object(x.jsxs)(z.c,{children:[Object(x.jsx)(f.a,{color:"red",onClick:function(){return O(o)},ripple:"dark",type:"submit",children:"Yes"}),Object(x.jsx)(f.a,{color:"blue",buttonType:"link",onClick:function(){return j(!1)},ripple:"dark",children:"No"})]})]})]})},T=c(122),F=c.n(T),U=c(124),I=c.n(U),L=c(123),A=c.n(L),B=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],o=t[1],r=Object(n.useState)(""),a=Object(i.a)(r,2),l=a[0],d=a[1],u=Object(n.useState)([]),j=Object(i.a)(u,2),m=j[0],O=j[1],h=Object(s.f)(),v=Object(n.useContext)(p).user;null===v&&h.push("/login");var y=function(){var e=Object(k.a)(Object(N.a)().mark((function e(){var t;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return d(""),o(!1),e.next=6,Object(g.a)(Object(g.b)(b,"userDocs","".concat(null===v||void 0===v?void 0:v.uid),"docs"),{name:"".concat(l),time:Object(g.f)()});case 6:t=e.sent,h.push("/doc/".concat(null===t||void 0===t?void 0:t.id));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(x.jsx)(F.a,{size:"sm",active:c,toggler:function(){return o(!1)},children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y()},children:[Object(x.jsx)(A.a,{children:Object(x.jsx)("input",{type:"text",className:"outline-none w-full bg-gray-200  p-3 rounded-md",placeholder:"Enter name of the document.",onChange:function(e){var t=e.target;return d(t.value)},value:l})}),Object(x.jsxs)(I.a,{children:[Object(x.jsx)(f.a,{color:"blue",buttonType:"link",onClick:function(){return o(!1)},ripple:"dark",children:"Cancle"}),Object(x.jsx)(f.a,{color:"blue",onClick:y,ripple:"dark",type:"submit",children:"Create"})]})]})});return Object(n.useEffect)((function(){var e=Object(g.e)(Object(g.b)(b,"userDocs","".concat(null===v||void 0===v?void 0:v.uid),"docs"),(function(e){var t;O(null===(t=e.docs)||void 0===t?void 0:t.map((function(e){return Object(w.a)({id:null===e||void 0===e?void 0:e.id},e.data())})))}));return function(){return e()}}),[null===v||void 0===v?void 0:v.uid]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(D,{}),C,Object(x.jsx)("section",{style:{background:"#f8f9fa"},className:"bg-[#f8f9fa] p-2 w-full mx-auto md:pb-10 md:px-10 ",children:Object(x.jsxs)("div",{className:"max-w-3xl w-full mx-auto",children:[Object(x.jsxs)("div",{className:"py-6 flex items-center justify-between",children:[Object(x.jsx)("h2",{className:"text-gray-700",children:"Start a new document"}),Object(x.jsx)(f.a,{color:"gray",ripple:"dark",buttonType:"outline",iconOnly:!0,className:"border-0",children:Object(x.jsx)(S.a,{name:"more_vert",size:"3xl"})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"relative h-52 w-40 border-2 cursor-pointer hover:border-blue-700",onClick:function(){return o(!0)},children:Object(x.jsx)("img",{src:"https://links.papareact.com/pju",alt:"add-doc"})}),Object(x.jsx)("p",{className:"ml-2 mt-2 font-semibold text-sm text-gray-700",children:"Blank"})]})]})}),Object(x.jsxs)("section",{className:"bg-white w-full md:px-10 md:mb-20",children:[Object(x.jsx)("div",{className:"max-w-3xl mx-auto py-8 text-sm text-gray-700",children:Object(x.jsxs)("div",{className:"flex p-4 items-center justify-between",children:[Object(x.jsx)("h2",{className:"font-medium flex-grow",children:"My Document"}),Object(x.jsx)("p",{className:"mr-12",children:"Date Created"}),Object(x.jsx)(S.a,{name:"folder",size:"3xl",color:"gray"})]})}),0===m.length?Object(x.jsx)("div",{className:"w-full text-center py-5",children:"No documents"}):"",null===m||void 0===m?void 0:m.map((function(e){return Object(x.jsx)(E,{id:null===e||void 0===e?void 0:e.id,fileName:null===e||void 0===e?void 0:e.name,date:null===e||void 0===e?void 0:e.time},null===e||void 0===e?void 0:e.id)}))]})]})},R=c(173),J=c.n(R),P=c(333),H=c.n(P),M=c(334),Z=c.n(M),G=(c(521),c(335)),K=c(81),Q=function(e){var t=e.uid,c=e.id,o=Object(n.useState)(K.EditorState.createEmpty()),r=Object(i.a)(o,2),a=r[0],s=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(Object(N.a)().mark((function e(){var n,o,r,a;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.d)(b,"userDocs","".concat(t),"docs","".concat(c)),e.next=3,Object(d.e)(n);case 3:(o=e.sent).exists()&&null!==o&&void 0!==o&&null!==(r=o.data())&&void 0!==r&&r.editorState&&s(K.EditorState.createWithContent(Object(K.convertFromRaw)(null===(a=o.data())||void 0===a?void 0:a.editorState)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,c]),Object(x.jsx)("div",{className:"bg-[#f9f8fa] min-h-screen pb-16",children:Object(x.jsx)(G.Editor,{editorState:a,onEditorStateChange:function(e){s(e);var n=Object(d.d)(b,"userDocs","".concat(t),"docs","".concat(c));Object(d.i)(n,{editorState:Object(K.convertToRaw)(a.getCurrentContent())},{merge:!0},(function(e){return console.log(e)}))},toolbarClassName:"flex sticky top-0 z-50 !justify-center mx-auto !border-0 !border-b-2 !border-[#ccc] shadow-md min-h-[300px]",editorClassName:"mt-6 bg-white p-5 shadow-lg min-h-[1300px] max-w-5xl mx-auto mb-12 border-2 rounded-sm border-gray-300",editorStyle:{minHeight:"1300px"}})})},V=function(){var e=Object(n.useContext)(p),t=e.user,c=e.setUser,o=Object(n.useState)(null),r=Object(i.a)(o,2),l=r[0],j=r[1],O=Object(s.f)(),h=Object(s.g)().id;return null===t&&O.push("/"),Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(Object(N.a)().mark((function e(){var c,n;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(d.d)(b,"userDocs","".concat(null===t||void 0===t?void 0:t.uid),"docs","".concat(h)),e.next=3,Object(d.e)(c);case 3:(n=e.sent).exists()?j(n.data()):O.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h,null===t||void 0===t?void 0:t.uid,O]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("header",{className:"flex justify-between items-center p-3 pb-1",children:[Object(x.jsx)("span",{className:"cursor-pointer",children:Object(x.jsx)(a.b,{to:"/",children:Object(x.jsx)(S.a,{name:"description",color:"blue",size:"5xl"})})}),Object(x.jsxs)("div",{className:"flex-grow px-2",children:[Object(x.jsx)("h2",{className:"",children:null===l||void 0===l?void 0:l.name}),Object(x.jsxs)("div",{className:"flex items-center overflow-x-scroll text-sm space-x-1 ml-1 text-gray-600",children:[Object(x.jsx)("p",{className:"options",children:"File"}),Object(x.jsx)("p",{className:"options",children:"Edit"}),Object(x.jsx)("p",{className:"options",children:"View"}),Object(x.jsx)("p",{className:"options",children:"Insert"}),Object(x.jsx)("p",{className:"options",children:"Format"}),Object(x.jsx)("p",{className:"options",children:"Tools"}),Object(x.jsx)("p",{className:"options",children:"Add-ons"}),Object(x.jsx)("p",{className:"options",children:"Help"})]})]}),Object(x.jsxs)(f.a,{size:"regular",style:{background:"#1A73E8"},className:"!bg-[#1A73E8] hover:bg-blue-500 !rounded-md md:inline-flex h-10",rounded:!1,block:!1,iconOnly:!1,ripple:"light",onClick:function(){var e=new Z.a(null===l||void 0===l?void 0:l.editorState);J.a.vfs=H.a.pdfMake.vfs,J.a.createPdf(e.generate()).download("".concat(null===l||void 0===l?void 0:l.name,".pdf"))},children:[Object(x.jsx)(S.a,{name:"download",size:"md"}),Object(x.jsx)("span",{children:"Download"})]}),Object(x.jsx)("img",{src:null===t||void 0===t?void 0:t.photoURL,alt:null===t||void 0===t?void 0:t.displayName,title:null===t||void 0===t?void 0:t.displayName,onClick:function(){Object(u.e)(m),c(null)},className:"cursor-pointer rounded-full h-10 w-10 ml-2"})]}),Object(x.jsx)(Q,{uid:null===t||void 0===t?void 0:t.uid,id:h})]})},W=function(){return Object(x.jsx)(O,{children:Object(x.jsx)(a.a,{children:Object(x.jsxs)(s.c,{children:[Object(x.jsx)(s.a,{path:"/",exact:!0,component:B}),Object(x.jsx)(s.a,{path:"/doc/:id",component:V}),Object(x.jsx)(s.a,{path:"/login",component:y}),Object(x.jsx)(y,{})]})})})};r.a.render(Object(x.jsx)(W,{}),document.getElementById("root"))}},[[615,1,2]]]);
//# sourceMappingURL=main.4af2a100.chunk.js.map